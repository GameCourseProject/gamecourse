<div class="w-full relative">
  <!-- Header -->
  <app-header [title]="'Rules'" [icon]="'tabler-clipboard-list'"
              [loading]="loading.action"></app-header>

  <!-- Search -->
  <app-input-search
    [id] = "'rule-search'"
    [items] = "rules"
    [classList]="'lg:w-1/2 mx-auto'"
    (onSearch)="filteredRules = $event">
  </app-input-search>

  <!-- Top Actions -->
  <app-top-actions
    [leftActions]="[
      {action: Action.IMPORT, icon:'jam-download'},
      {action: Action.EXPORT, icon:'jam-upload'}
    ]"
    [rightActions]="[{action: 'Add section', icon: 'feather-plus-circle', color: 'primary'}]"
    (btnClicked)="doAction($event)">
  </app-top-actions>

  <!-- Section Table -->
  <app-table
    [id] = "'rules'"
    [classList]="'mt-5'"
    [headers] = "headers"
    [data] = "data"
    [options] = "tableOptions"
    [loading] = "loading.table"
    (btnClicked)="doActionOnTable($event.type, $event.row, $event.col)"
    (valueChanged)="doActionOnTable('value changed', $event.row, $event.col, $event.value)">
  </app-table>

  <!-- Loader -->
  <app-loader [loading]="loading.page"></app-loader>
</div>


<!-- New / Edit modal -->
<app-modal *ngIf="mode && ruleToManage"
  [id]="'manage'"
  [templateRef]="MANAGE"
  [size]="'lg'"
  [header]="mode?.capitalize() + 'rule'"
  [actionInProgress] = "loading.action"
  (submitBtnClicked)="f.onSubmit(null); mode === 'add' ? createRule() : editRule">

</app-modal>


<ng-template #MANAGE>
  <form #f="ngForm">

    <div class="flex flex-wrap">

      <div class="w-full sm:w-1/3 sm:pr-12">


      </div>

    </div>

  </form>
</ng-template>
