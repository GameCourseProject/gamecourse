<!-- Display version -->
<ng-container *ngIf="!edit">
  <ng-container [ngTemplateOutlet]="view.link ? DISPLAY_LINK : DISPLAY_DEFAULT"></ng-container>
</ng-container>

<!-- Edit version -->
<ng-container *ngIf="edit">
  <ng-container [ngTemplateOutlet]="EDIT_DEFAULT"></ng-container>
</ng-container>


<!------------------------------------------------>
<!-------------- DISPLAY VARIATIONS -------------->
<!------------------------------------------------>

<ng-template #DISPLAY_DEFAULT>
  <div [attr.id]="view.cssId"
       [classList]="classes + ' avatar'"
       [attr.style]="view.styles">

    <div [classList]="view.classList">
      <img [src]="imageURL" [alt]="''" /> <!-- FIXME: should have alt (accessibility) -->
    </div>
  </div>
</ng-template>

<ng-template #DISPLAY_LINK>
  <a [href]="view.link" [target]="externalLink(view.link) ? '_blank' : '_self'"
     [attr.id]="view.cssId"
     [classList]="classes + ' avatar'"
     [attr.style]="view.styles">

    <div [classList]="view.classList">
      <img [src]="imageURL" [alt]="''" /> <!-- FIXME: should have alt (accessibility) -->
    </div>
  </a>
</ng-template>


<!------------------------------------------------>
<!---------------- EDIT VARIATIONS --------------->
<!------------------------------------------------>

<ng-template #EDIT_DEFAULT>
  <div [attr.id]="view.cssId"
       [classList]="classes + ' avatar'"
       [attr.style]="view.styles">

    <div [classList]="view.classList">
      <img [src]="imageURL" [alt]="''" (error)="imageURL='assets/imgs/img-dark.png'"/>
    </div>
  </div>
</ng-template>
