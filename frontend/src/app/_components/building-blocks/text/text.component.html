<ng-container
  [ngTemplateOutlet]="view.link ? LINK : SIMPLE">
</ng-container>


<!------------------------------------------------>
<!------------------ VARIATIONS ------------------>
<!------------------------------------------------>

<ng-template #SIMPLE>
  <span [attr.id]="view.cssId"
        [classList]="view.class"
        [attr.style]="view.style"
        [attr.data-id]="view.id"
        [attr.data-viewId]="view.viewId"
        [attr.data-role]="edit ? view.role : null"
        [goToPage]="getEvent(EventAction.GO_TO_PAGE) | as : EventGoToPage"
        [hideView]="getEvent(EventAction.HIDE_VIEW) | as : EventHideView"
        [showView]="getEvent(EventAction.SHOW_VIEW) | as : EventShowView"
        [toggleView]="getEvent(EventAction.TOGGLE_VIEW) | as : EventToggleView"
        [mode]="view.mode">
    {{view.value || DEFAULT}}
  </span>
</ng-template>

<ng-template #LINK> <!-- FIXME: target should be an option -->
  <a [href]="edit ? 'javascript:void(0)' : view.link" [target]="edit ? '_self' : '_blank'"
     [attr.id]="view.cssId"
     [classList]="view.class"
     [attr.style]="view.style"
     [attr.data-id]="view.id"
     [attr.data-viewId]="view.viewId"
     [attr.data-role]="edit ? view.role : null"
     [goToPage]="getEvent(EventAction.GO_TO_PAGE) | as : EventGoToPage"
     [hideView]="getEvent(EventAction.HIDE_VIEW) | as : EventHideView"
     [showView]="getEvent(EventAction.SHOW_VIEW) | as : EventShowView"
     [toggleView]="getEvent(EventAction.TOGGLE_VIEW) | as : EventToggleView"
     [mode]="view.mode">
    {{view.value || DEFAULT}}
  </a>
</ng-template>
