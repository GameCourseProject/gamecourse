[
  {
    "type": "block",
    "role": "role.Teacher",
    "class": "users-overview",
    "visibilityType": "visible",
    "variables": {
      "students": {
        "value": "{users.getAllUsers(\"Student\", %course)}"
      }
    },
    "children": [
      [
        {
          "type": "header",
          "role": "role.Teacher",
          "visibilityType": "visible",
          "image": [
            {
              "type": "image",
              "role": "role.Teacher",
              "visibilityType": "visible",
              "src": "modules/profile/icon.svg"
            }
          ],
          "title": [
            {
              "type": "text",
              "role": "role.Teacher",
              "visibilityType": "visible",
              "value": "Students"
            }
          ]
        }
      ],
      [
        {
          "type": "block",
          "role": "role.Teacher",
          "style": "margin-bottom: 30px",
          "class": "users-activity",
          "visibilityType": "visible",
          "children": [
            [
              {
                "type": "text",
                "role": "role.Teacher",
                "class": " title",
                "visibilityType": "visible",
                "value": "Activity"
              }
            ],
            [
              {
                "type": "block",
                "role": "role.Teacher",
                "class": "activity-tables",
                "visibilityType": "visible",
                "children": [
                  [
                    {
                      "type": "block",
                      "role": "role.Teacher",
                      "class": "activity-table",
                      "visibilityType": "visible",
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "class": "table-title ",
                            "visibilityType": "visible",
                            "value": "Never Active"
                          }
                        ],
                        [
                          {
                            "type": "table",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "headerRows": [
                              [
                                {
                                  "type": "row",
                                  "role": "role.Teacher",
                                  "visibilityType": "visible",
                                  "children": [
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "XP"
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "Name"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "rows": [
                              [
                                {
                                  "type": "row",
                                  "role": "role.Teacher",
                                  "visibilityType": "visible",
                                  "loopData": "{%students.filter(\"%item.lastActivity\",\"NULL\",\"==\").sort(\"asc, xp.getXp(%item)\")}",
                                  "variables": {
                                    "student": {
                                      "value": "{%item}"
                                    }
                                  },
                                  "children": [
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "{xp.getXp(%student)}"
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "{%student.name}"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    {
                      "type": "block",
                      "role": "role.Teacher",
                      "class": "activity-table",
                      "visibilityType": "visible",
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "class": " table-title",
                            "visibilityType": "visible",
                            "value": "Least Active"
                          }
                        ],
                        [
                          {
                            "type": "table",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "headerRows": [
                              [
                                {
                                  "type": "row",
                                  "role": "role.Teacher",
                                  "visibilityType": "visible",
                                  "children": [
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "Last Activity"
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "Name"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "rows": [
                              [
                                {
                                  "type": "row",
                                  "role": "role.Teacher",
                                  "visibilityType": "visible",
                                  "loopData": "{%students.filter(\"%item.lastActivity\",\"NULL\",\"!=\").sort(\"asc, %item.lastActivity\").crop(0,10)}",
                                  "variables": {
                                    "student": {
                                      "value": "{%item}"
                                    }
                                  },
                                  "children": [
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "{%student.lastActivity}"
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "{%student.name}"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    {
                      "type": "block",
                      "role": "role.Teacher",
                      "class": "activity-table",
                      "visibilityType": "visible",
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "class": " table-title",
                            "visibilityType": "visible",
                            "value": "Most Active"
                          }
                        ],
                        [
                          {
                            "type": "table",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "headerRows": [
                              [
                                {
                                  "type": "row",
                                  "role": "role.Teacher",
                                  "visibilityType": "visible",
                                  "children": [
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "Last Activity"
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "Name"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "rows": [
                              [
                                {
                                  "type": "row",
                                  "role": "role.Teacher",
                                  "visibilityType": "visible",
                                  "loopData": "{%students.filter(\"%item.lastActivity\",\"NULL\",\"!=\").sort(\"desc, %item.lastActivity\").crop(0,10)}",
                                  "variables": {
                                    "student": {
                                      "value": "{%item}"
                                    }
                                  },
                                  "children": [
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "{%student.lastActivity}"
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "role": "role.Teacher",
                                        "visibilityType": "visible",
                                        "value": "{%student.name}"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        }
      ],
      [
        {
          "type": "block",
          "role": "role.Teacher",
          "style": "margin-bottom: 20px",
          "class": "users-summary",
          "visibilityType": "visible",
          "children": [
            [
              {
                "type": "text",
                "role": "role.Teacher",
                "class": " title",
                "visibilityType": "visible",
                "value": "Summary"
              }
            ],
            [
              {
                "type": "table",
                "role": "role.Teacher",
                "class": "summary-table",
                "visibilityType": "conditional",
                "visibilityCondition": "{virtualcurrency.isEnabled}",
                "headerRows": [
                  [
                    {
                      "type": "row",
                      "role": "role.Teacher",
                      "visibilityType": "visible",
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "Name"
                          }
                        ],
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "Experience"
                          }
                        ],
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "{virtualcurrency.name}"
                          }
                        ]
                      ]
                    }
                  ]
                ],
                "rows": [
                  [
                    {
                      "type": "row",
                      "role": "role.Teacher",
                      "visibilityType": "visible",
                      "loopData": "{%students.sort(\"asc, name\")}",
                      "variables": {
                        "student": {
                          "value": "{%item}"
                        }
                      },
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "{%student.name}"
                          }
                        ],
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "{xp.getXP(%student)} XP"
                          }
                        ],
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "{%student.tokens}"
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              {
                "type": "table",
                "role": "role.Teacher",
                "visibilityType": "conditional",
                "visibilityCondition": "{!virtualcurrency.isEnabled}",
                "headerRows": [
                  [
                    {
                      "type": "row",
                      "role": "role.Teacher",
                      "visibilityType": "visible",
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "Name"
                          }
                        ],
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "Experience"
                          }
                        ]
                      ]
                    }
                  ]
                ],
                "rows": [
                  [
                    {
                      "type": "row",
                      "role": "role.Teacher",
                      "visibilityType": "visible",
                      "loopData": "{%students.sort(\"asc, name\")}",
                      "variables": {
                        "student": {
                          "value": "{%item}"
                        }
                      },
                      "children": [
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "{%student.name}"
                          }
                        ],
                        [
                          {
                            "type": "text",
                            "role": "role.Teacher",
                            "visibilityType": "visible",
                            "value": "{xp.getXP(%student)}"
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        }
      ]
    ]
  }
]