<!DOCTYPE html>
<html ng-app="schemaApp">
<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1">
    <script src="../../js/angular.min.js"></script>
    <script src="../../js/jquery.min.js"></script>
    <title>GameCourse Documentation - Schema</title>
    <link rel="stylesheet" href="/gamecourse/docs/functions/functions.css"/>
    <link rel="stylesheet" href="/gamecourse/css/navbar.css"/>
    <link rel="stylesheet" href="/gamecourse/docs/css/docs.css"/>
    <link rel="stylesheet" href="/gamecourse/css/geral.css"/>
    <script type="text/javascript" src="/gamecourse/docs/documentation.js"></script>
    <script type="text/javascript" src="documentation-functions.js"></script>

</head>
<body ng-controller="SchemaController">
    <div class="navbar">  
        <div class="logo">logo</div>
        <ul class="menu documentation">
            <li id="menu-views"><a href="/gamecourse/docs" >Views</a></li>
            <li id="menu-functions"><a href="javascript:void(0);"  class="focused">Functions</a></li>
            <li id="menu-modules"><a href="/gamecourse/docs/modules">Modules</a></li>
        </ul>
    </div>

    <div class="page">
        <div class="sidebar">
            <div class="tab title" id="tab-create" >Libraries</div>
            <div class="tab course-selector">
                Course: <select ng-options="course for course in courses" ng-model="course"></select>
            </div>
            <div class="tab search" id="find-tab">
                <input type="text" placeholder="Search.." name="search">
                <button class="magnifying-glass" id="search-btn"></button> 
            </div>
        </div>
        <div class="content">
        </div>
    </div>
    
    <!-- <br><br><span>
        The functions calls have the following structure:  <code>lib.functionName(argument1,argument2)</code>.
        <br>The arguments may be needed or not depending on the specific function and if there aren't arguments, the parentesis are not necessary.
        <br>The lib for some cases is a library name, for others it is a value provided by a function of the library, usually insida a variable.
        <br><br>This page contains all the libraries available and each of their functions.
   
    </span> -->
    <script>
        var app = angular.module('schemaApp', []);
        app.controller('SchemaController', function($scope, $element, $http, $compile) {
            $http.get('getSchema.php?list').then(function(data) {
                $scope.courses = data.data;
                $scope.course = $scope.courses[0];
                //vai buscar o primeiro identificado pelo id
                //ir buscar o nome
            });

            $scope.$watch('course', function(n, o) {
                if (n == o)
                    return;

                clearFunctions();
                $http.get('getSchema.php?course=' + $scope.course).then(function(data) {
                    $scope.libraries = data.data;
                    console.log("fields",$scope);
                    addTabGroup();
                    jQuery.each($scope.libraries , function(index, lib ) {
                        addTab(lib.name);
                        addContent(lib);
                    });
                    addClickEvents();
                    bindSearch();
                    accordion.init({ speed: 300, oneOpen: true });
                });
                
            });
        });
    </script>
</body>
</html>